# FastAPIをおしえるの会 リポジトリ

## 起動方法
1. (初回のみ)`pip install -r requirements.txt`でpythonに必要なライブラリをダウンロード
2. `uvicorn main:app --host 127.0.0.1 --reload`で起動
3. `http://localhost:8000`にアクセス

## やること
- 起動後にSNSでログインができるのを確認してもらう
- その処理がバックエンドでどう動いてるかソースを見てもらう
- 投稿機能のエンドポイントがごっそりないのでその記述を追加してもらう
  - `routers.py`にGETの関数を書いてもらう
  - `cruds.py`にDBからContentを全部持ってきて返す関数を定義してもらう
  - `routers.py`に`cruds.py`で作った関数を呼んで返り値を返してもらう
  - `routers.py`にPOSTの関数を書いてもらう
  - `cruds.py`に引数から投稿データを作成し出来たデータを返す関数を定義してもらう
  - `routers.py`に`cruds.py`で作った関数を呼んで返り値を返してもらう
  - `schemas.py`はややこしくなりそうなので全部書いとく
- docsで適宜試しつつ，完成したら`home.html`(フロント)でも動いてるか見てもらう
- 動いたら完成！！やった！嬉しい！
- 鳩屋敷に余裕があれば，エンドポイントの参照先を書き換えると皆で書き込みできるバックエンドにつながって，皆でSNSして遊んで終わりってやりたい．

## ファイル構成
```py
fastapi_tutorial/
  │
  │ # HTMLファイルがおいてある．中身はまじまじと見ないで…
  ├ frontend/
  │   │
  │   │ # サインアップ，サインインのリンクとバックエンドのdocsのリンクがあるページ
  │   ├ index.html
  │   │
  │   │ # サインアップのフォームのページ
  │   ├ signup.html
  │   │
  │   │ # サインインのフォームのページ
  │   ├ signin.html
  │   │
  │   │ # SNSのホーム画面
  │   └ home.html
  │
  │ # FastAPIのメインのファイル．起動コマンドのmainはこのファイル名を指している
  ├ main.py
  │
  │ # DBとの接続や，テーブルの定義などが書かれているファイル．
  ├ db.py
  │
  │ # エンドポイントの処理を定義しているファイル．
  ├ routers.py
  │
  │ # DB操作を行う関数の定義がされているファイル．
  ├ cruds.py
  │
  │ # FastAPIで扱うデータの型を定義しているファイル．
  ├ schemas.py
  │ 
  │ # その他細々とした関数が定義されているファイル．
  ├ utils.py
  │
  │ # このコードを動かすのに必要なpythonのライブラリを書き連ねたファイル
  ├ requirements.txt
  │
  │ # DB本体．当然ファイルを消したらDBがまるっと消える．
  └ db.sqlite3
```
